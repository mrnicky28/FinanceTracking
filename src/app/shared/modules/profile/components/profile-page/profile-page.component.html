<div class="container">
    <div class="user-profile-container" *ngIf="user$ | async as user">
        <div class="profile-info">
            <div class="profile-image">
                <img
                width="120"
                height="120"
                [src]="user.photoURL ?? 'assets/icons/user-image.png'"
                alt="profile-image"
                />
                <button class="add-photo-icon" mat-mini-fab (click)="inputField.click()">
                    <mat-icon>photo_camera</mat-icon>
                </button>
                <input #inputField type="file" hidden (change)="uploadImage($event, user)" />
            </div>
            <div class="full-name">{{ user.firstName }} {{ user.surname }}</div>
        </div>


        <form class="margin-top" [formGroup]="profileForm" (ngSubmit)="saveProfile()">
            <div class="personal-settings">
                <div class="personal-setting-container">
                    <h1 class="setting-title">Personal</h1>
                    <fieldset class="form-group">
                        <label>First name</label>
                        <input
                            type="text"
                            class="input-control"
                            placeholder="First Name"
                            formControlName="firstName"
                        />
                    </fieldset>
                    <fieldset class="form-group">
                        <label>Surname</label>
                        <input
                            type="text"
                            class="input-control"
                            placeholder="Surname"
                            formControlName="surname"
                        />
                    </fieldset>

                    <fieldset class="form-group">
                        <label>Display Name</label>
                        <input
                            type="email"
                            class="input-control"
                            placeholder="Display Name"
                            formControlName="displayName"
                        />
                    </fieldset>
                    <fieldset class="form-group">
                        <label>Date of birth</label>
                        <input
                            type="date"
                            class="input-control"
                            placeholder="Date of birth"
                            formControlName="birthDay"
                        />
                    </fieldset>
                </div>
                <div class="contact-setting-container">
                    <h1 class="setting-title">Contact</h1>
                    <fieldset>
                        <fieldset class="form-group">
                            <label>Email</label>
                            <input
                                type="email"
                                class="input-control"
                                placeholder="Email"
                                formControlName="email"
                            />
                        </fieldset>
                        <fieldset class="form-group">
                            <label>Phone Number</label>
                            <input
                                type="phone"
                                class="input-control"
                                placeholder="XXXXX-XX-XX"
                                formControlName="phone"
                            />
                        </fieldset>
                        <fieldset class="form-group">
                            <label>Country</label>
                            <input
                                type="text"
                                class="input-control"
                                placeholder="Country"
                                formControlName="country"
                            />
                        </fieldset>
                        <fieldset class="form-group">
                            <label>City</label>
                            <input
                                type="text"
                                class="input-control"
                                placeholder="City"
                                formControlName="city"
                            />
                        </fieldset>
                        <fieldset class="form-group">
                            <label>Address</label>
                            <input
                                type="text"
                                class="input-control input-address"
                                placeholder="Address"
                                formControlName="address"
                            />
                            <button
                                class="btn btn-lg btn-primary pull-xs-right"
                                type="submit"
                                [disabled]="profileForm.invalid"
                            >
                                Save
                            </button>
                        </fieldset>
                    </fieldset>
                </div>
            </div>
        </form>
    </div>
</div>
