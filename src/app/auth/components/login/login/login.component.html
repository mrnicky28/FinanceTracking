<div class="fixed-overlay">
    <div class="auth-page modal-cont">
        <div class="container">
            <div class="row">
                <div class="content-wrapper">
                    <a class="bg-close-icon" (click)="onClose()">
                        <img
                            class="close-icon"
                            src="../../../../../assets/icons/close-icon.png"
                            alt=""
                        />
                    </a>
                    <h1 class="text-xs-center modal-title">Войти</h1>

                    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
                        <fieldset>
                            <fieldset class="form-group">
                                <input
                                    type="email"
                                    class="input-control"
                                    placeholder="Электронный адрес"
                                    formControlName="email"
                                />
                                <mat-error class="validation-errors"
                                    *ngIf="loginForm.get('email')?.touched && loginForm.get('email')?.invalid">
                                    <mat-error class="validation-errors"
                                        *ngIf="loginForm.get('email')?.errors?.required">
                                        Поле email не должно быть пустым.
                                    </mat-error>
                                    <mat-error class="validation-errors"
                                        *ngIf="loginForm.get('email')?.errors?.email">Введите корректный email
                                    </mat-error>
                                </mat-error>
                            </fieldset>
                            <fieldset class="form-group">
                                <input
                                    type="password"
                                    class="input-control"
                                    placeholder="Пароль"
                                    formControlName="password"
                                />
                                <mat-error class="validation-errors"
                                    *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.invalid">
                                    <mat-error class="validation-errors"
                                        *ngIf="loginForm.get('password')?.errors?.required">
                                        Поле пароль не должно быть пустым.
                                    </mat-error>
                                    <mat-error class="validation-errors"
                                        *ngIf="loginForm.get('password')?.errors?.minlength">Поле пароль должно
                                        привышать
                                        {{ loginForm.get("password")?.errors?.minlength?.requiredLength }}
                                        символов</mat-error>
                                </mat-error>
                            </fieldset>
                            <div *ngIf="!loginForm.pristine; else errorsBlock"></div>
                            <ng-template #errorsBlock>
                                <app-backend-error-messages *ngIf="backendErrors$ | async">
                                </app-backend-error-messages>
                            </ng-template>
                            <p class="text-xs-center">
                                Нет аккаунта?
                                <a
                                    class="toggle-link"
                                    (click)="redirectToSignUp()"
                                    >Зарегистрироваться</a
                                >
                            </p>
                            <button
                                class="btn btn-lg btn-primary pull-xs-right"
                                type="submit"
                                [disabled]="loginForm.invalid || (isSubmitting$ | async)">
                                Далее
                            </button>
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal-header"></div>
